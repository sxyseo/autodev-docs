---
layout: default
title: Team Prompts
parent: Customize Features
nav_order: 14
permalink: /custom/team-prompts
---

> Discover new ways to collaborate and share your brilliance with your team.

The default Team Prompts path is `prompts/`, which is the `prompts/` directory located in the project's root directory.

AutoDev currently utilizes the Apache Velocity template engine, allowing you to customize your Team Prompts by modifying
template files.

If you make changes to the template files, make sure to save them, as otherwise, the IDE won't recognize your
modifications.

## Format

The Team Prompts file format is .vtl, which is the Velocity Template Language file format. Will be include three parts:

- frontmatter config, which is the prompt config with YAML format
- chat role, like `system`, `user`, will start with \`\`\` and end with \`\`\`, like:
  ```vtl
  ```system```
  ```
- chat content, aka prompt content

## FrontMatter Config

```
---
interaction: AppendCursorStream # the interaction type, support AppendCursorStream, ChatPanel, AppendCursor, OutputFile
priority: 99
batchFileRegex: ".*" # the regex to match the batch file
codeOnly: false # only show the code part
---    
```

Priority is the prompt priority, the higher the priority, the higher the prompt will be displayed in top.

- the default action priority is 900~999, like `Chat with xx`, `Code complete` etc.

interaction type:

- AppendCursor, the prompt will be inserted at the cursor position
- AppendCursorStream, the prompt will be inserted at the cursor position
- ChatPanel, the prompt will be inserted in the chat panel
- OutputFile, the prompt will be inserted in the output file, `output-{timestamp}.{extension}`, the extension will be
  parsed from the result's language.
- ReplaceSelection, the prompt will replace the current selection (since version@1.6.3)
- ReplaceCurrentFile, the prompt will replace the current file (since version@1.8.6)

## English Examples

variables list: [https://ide.unitmesh.cc/variables](https://ide.unitmesh.cc/variables)

```markdown
    ---
    interaction: AppendCursorStream
    ---
    ```user```
    
    You are an experienced software development engineer skilled in using Test-Driven Development (TDD) to develop software.
    You need to help users write test code based on their requirements.
    
    ${frameworkContext}
    
    The current class-related code is as follows:
    
    ${beforeCursor}
    
    The user's requirement is: ${selection}
    
    Please use ```@Test to begin writing your code block:
```

full TDD
example: [https://github.com/unit-mesh/untitled/tree/english/prompts](https://github.com/unit-mesh/untitled/tree/english/prompts)

## Chinese Example:

Variables list: [AutoDev Template Variables](/customize/variables).

```markdown
---
interaction: AppendCursorStream
---

You are an experienced software development engineer who excels at developing software using TDD. You now need to help developers create good Tasking to facilitate writing test cases.

- Tasks generated by Tasking all have independent business value. Each completed task can be delivered independently and generate value.
- Using business-oriented Tasking with business language to describe task lists helps developers and business people communicate and confirm requirements in detail.
- Use the Given When Then writing format, where When represents system behavior.
- Consider business scenario coverage, and try to consider edge cases as much as possible.

Please output strictly according to the following format.

Example:

Question: Develop a taxi fare calculation function with the following calculation rules: when not exceeding 8 kilometers, charge 0.8 yuan per kilometer; when exceeding 8 kilometers, add a 50% long-distance fee per kilometer; during waiting time, add 0.25 yuan per minute.
Answer: ###
${commentSymbol} Given a taxi travels 5 kilometers (within 8 kilometers), with no waiting time, When calculating the fare, Then the charge is 4 yuan
${commentSymbol} Given a taxi travels 5 kilometers (within 8 kilometers), waiting for 10 minutes, When calculating the fare, Then the charge is 6.5 yuan
${commentSymbol} Given a taxi travels exactly 8 kilometers, with no waiting time, When calculating the fare, Then the charge is 6.4 yuan
${commentSymbol} Given a taxi travels exactly 8 kilometers, waiting for 10 minutes, When calculating the fare, Then the charge is 8.9 yuan
###
Question: ${selection}
Answer: ###
```

Complete TDD example: [https://github.com/unit-mesh/untitled/tree/master/prompts](https://github.com/unit-mesh/untitled/tree/master/prompts)

### Batch File example

Key points: `batchFileRegex` is used to match batch files, `codeOnly: true` only puts the pure code part into the file, `interaction: ReplaceCurrentFile` is used to replace the current file.

```markdown
    ---
    interaction: ReplaceCurrentFile
    batchFileRegex: "**/*.ts"
    codeOnly: true
    ---
    
    Refactor the user's code.
    Requirements: Return the refactored code in a single markdown code block
    
    ${all}
```
